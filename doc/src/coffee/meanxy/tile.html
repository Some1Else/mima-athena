<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>tile.coffee</title>
  <link rel="stylesheet" href="http://jashkenas.github.com/docco/resources/docco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div id="jump_to">
    Jump To &hellip;
    <div id="jump_wrapper">
      <div id="jump_page">
          <a class="source" href="../app.html">app.coffee</a>
          <a class="source" href="_legacy.html">_legacy.coffee</a>
          <a class="source" href="_legacy_config.html">_legacy_config.coffee</a>
          <a class="source" href="breadcrumb.html">breadcrumb.coffee</a>
          <a class="source" href="query.html">query.coffee</a>
          <a class="source" href="tile.html">tile.coffee</a>
          <a class="source" href="../models/concepts.html">concepts.coffee</a>
          <a class="source" href="../models/entries.html">entries.coffee</a>
          <a class="source" href="../models/session.html">session.coffee</a>
          <a class="source" href="../models/syncs.html">syncs.coffee</a>
          <a class="source" href="../models/workflows.html">workflows.coffee</a>
          <a class="source" href="../views/agenda.html">agenda.coffee</a>
          <a class="source" href="../views/awsmbar.html">awsmbar.coffee</a>
          <a class="source" href="../views/entries.html">entries.coffee</a>
          <a class="source" href="../views/landing.html">landing.coffee</a>
          <a class="source" href="../views/login.html">login.coffee</a>
          <a class="source" href="../views/meanxy.html">meanxy.coffee</a>
          <a class="source" href="../views/nav.html">nav.coffee</a>
      </div>
    </div>
  </div>
  <table cellspacing=0 cellpadding=0>
  <thead>
    <tr>
      <th class=docs><h1>tile.coffee</h1></th>
      <th class=code></th>
    </tr>
  </thead>
  <tbody>
    <tr id='section-1'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-1">&#182;</a>
        </div>
        
      </td>
      <td class=code>
        <div class='highlight'><pre><span class="nb">window</span><span class="p">.</span><span class="nx">MM</span> <span class="o">||=</span> <span class="p">{}</span>
<span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span> <span class="o">||=</span> <span class="p">{}</span>

<span class="k">class</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileView</span> <span class="k">extends</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span>
  <span class="nv">events:</span>
    <span class="s">&quot;click a&quot;</span><span class="o">:</span> <span class="s">&quot;query&quot;</span>

  <span class="nv">render: </span><span class="o">-&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="nx">@el</span><span class="p">).</span><span class="nx">html</span> <span class="nx">@template</span><span class="p">(</span><span class="nx">@model</span><span class="p">.</span><span class="nx">attributes</span><span class="p">)</span>
    <span class="k">this</span>

<span class="k">class</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileLabelView</span> <span class="k">extends</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileView</span>
  <span class="nv">template: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&quot;&lt;li class=&#39;tile tile_x_&lt;%= x %&gt; tile_y_&lt;%= y %&gt; &quot;</span> <span class="o">+</span>
                        <span class="s">&quot;tile_&lt;%= kind %&gt; tile_&lt;%= kind %&gt;_&lt;%= shade %&gt;&#39;&gt;&quot;</span> <span class="o">+</span>
                        <span class="s">&quot;&lt;a href=&#39;</span><span class="err">#</span><span class="s">&#39;&gt;&lt;span&gt;&lt;%= content %&gt;&quot;</span> <span class="o">+</span>
                        <span class="s">&quot;&lt;/span&gt;&lt;em&gt;&lt;%= Math.round(weight * 10) / 10 %&gt;&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;&quot;</span> <span class="p">)</span>
  <span class="nv">query: </span><span class="nf">(e) -&gt;</span>
    <span class="nx">doQuery</span> <span class="nx">@model</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>

  <span class="nv">initialize: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span> <span class="k">this</span><span class="p">,</span> <span class="s">&quot;render&quot;</span></pre></div>
      </td>
    </tr>
    <tr id='section-2'>
      <td class=docs>
        <div class="pilwrap">
          <a class="pilcrow" href="#section-2">&#182;</a>
        </div>
        <p>Tiles.bind &ldquo;change&rdquo;, @render</p>

      </td>
      <td class=code>
        <div class='highlight'><pre><span class="k">class</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileQueryView</span> <span class="k">extends</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileView</span>
  <span class="nv">template: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&quot;&lt;li class=&#39;tile tile_x_&lt;%= x %&gt; tile_y_&lt;%= y %&gt; &quot;</span> <span class="o">+</span>
                        <span class="s">&quot;query_&lt;%= kind %&gt;&#39;&gt;&lt;a href=&#39;</span><span class="err">#</span><span class="s">&#39;&gt;&lt;span&gt;&quot;</span> <span class="o">+</span>
                        <span class="s">&quot;&lt;%= content %&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&quot;</span> <span class="p">)</span>
  <span class="nv">query: </span><span class="nf">(e) -&gt;</span>
    <span class="nx">doTypeQuery</span> <span class="nx">@model</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>

<span class="k">class</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileKnotView</span> <span class="k">extends</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileView</span>
  <span class="nv">template: </span><span class="nx">_</span><span class="p">.</span><span class="nx">template</span><span class="p">(</span> <span class="s">&quot;&lt;li class=&#39;tile tile_x_&lt;%= x %&gt; tile_y_&lt;%= y %&gt; &quot;</span> <span class="o">+</span>
                        <span class="s">&quot;query_&lt;%= kind %&gt;&#39;&gt;&lt;a href=&#39;</span><span class="err">#</span><span class="s">&#39;&gt;&lt;span&gt;&quot;</span> <span class="o">+</span>
                        <span class="s">&quot;&lt;%= content %&gt;&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&quot;</span> <span class="p">)</span>
  <span class="nv">query: </span><span class="nf">(e) -&gt;</span>
    <span class="nx">doKnotQuery</span><span class="p">()</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">()</span>

<span class="k">class</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileCollectionView</span> <span class="k">extends</span> <span class="nx">Backbone</span><span class="p">.</span><span class="nx">View</span>
  <span class="nv">el: </span><span class="s">&quot;</span><span class="err">#</span><span class="s">app&quot;</span>
  <span class="nv">grid: </span><span class="p">[]</span>
  <span class="nv">initialize: </span><span class="o">-&gt;</span>
    <span class="nx">_</span><span class="p">.</span><span class="nx">bindAll</span> <span class="k">this</span><span class="p">,</span> <span class="s">&quot;addOne&quot;</span><span class="p">,</span> <span class="s">&quot;addAll&quot;</span>
    <span class="nx">Tiles</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;add&quot;</span><span class="p">,</span> <span class="nx">@addOne</span><span class="p">,</span> <span class="k">this</span>
    <span class="nx">Tiles</span><span class="p">.</span><span class="nx">bind</span> <span class="s">&quot;reset&quot;</span><span class="p">,</span> <span class="nx">@reset</span><span class="p">,</span> <span class="k">this</span>
    <span class="vi">@grid = </span><span class="p">[]</span>

  <span class="nv">addOne: </span><span class="nf">(tile) -&gt;</span>
    <span class="nv">view = </span><span class="kc">undefined</span>
    <span class="k">if</span> <span class="nx">tile</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;query&quot;</span><span class="p">)</span> <span class="o">is</span> <span class="kc">true</span>
      <span class="k">if</span> <span class="nx">tile</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;kind&quot;</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">is</span> <span class="s">&quot;KNOT&quot;</span>
        <span class="nv">view = </span><span class="k">new</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileKnotView</span><span class="p">(</span><span class="nv">model: </span><span class="nx">tile</span><span class="p">)</span>
      <span class="k">else</span>
        <span class="nv">view = </span><span class="k">new</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileQueryView</span><span class="p">(</span><span class="nv">model: </span><span class="nx">tile</span><span class="p">)</span>
    <span class="k">else</span>
      <span class="nv">view = </span><span class="k">new</span> <span class="nx">MM</span><span class="p">.</span><span class="nx">MeanXY</span><span class="p">.</span><span class="nx">TileLabelView</span><span class="p">(</span><span class="nv">model: </span><span class="nx">tile</span><span class="p">)</span>
    <span class="nx">@$</span><span class="p">(</span><span class="s">&quot;</span><span class="err">#</span><span class="s">tiles&quot;</span><span class="p">).</span><span class="nx">append</span> <span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">().</span><span class="nx">el</span>

  <span class="nv">addTiles: </span><span class="o">-&gt;</span>
    <span class="nx">Tiles</span><span class="p">.</span><span class="nx">each</span> <span class="nx">@addOne</span>

  <span class="nv">applyShade: </span><span class="o">-&gt;</span>
    <span class="nv">max = </span><span class="mi">0</span>
    <span class="nv">min = </span><span class="mi">9007199254740992</span>
    <span class="nx">Tiles</span><span class="p">.</span><span class="nx">each</span> <span class="nf">(tile) -&gt;</span>
      <span class="nv">tw = </span><span class="nx">tile</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;weight&quot;</span><span class="p">)</span>
      <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">tw</span><span class="p">)</span>
        <span class="nv">tw = </span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">tw</span><span class="p">)</span>
        <span class="nv">min = </span><span class="nx">tw</span>  <span class="k">if</span> <span class="nx">tw</span> <span class="o">&lt;</span> <span class="nx">min</span>
        <span class="nv">max = </span><span class="nx">tw</span>  <span class="k">if</span> <span class="nx">tw</span> <span class="o">&gt;</span> <span class="nx">max</span>

    <span class="nv">delta = </span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span>
    <span class="nx">Tiles</span><span class="p">.</span><span class="nx">each</span> <span class="nf">(tile) -&gt;</span>
      <span class="nv">tw = </span><span class="nx">tile</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;weight&quot;</span><span class="p">)</span>
      <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">isString</span><span class="p">(</span><span class="nx">tw</span><span class="p">)</span>
        <span class="nv">tw = </span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">tw</span><span class="p">)</span>
        <span class="nv">dif = </span><span class="nx">tw</span> <span class="o">-</span> <span class="nx">min</span>
        <span class="nv">val = </span><span class="p">(</span><span class="nx">dif</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="nx">delta</span> <span class="o">/</span> <span class="mi">5</span><span class="p">)</span>
        <span class="nv">val = </span><span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="mi">5</span> <span class="o">-</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">val</span><span class="p">))</span>
        <span class="nx">tile</span><span class="p">.</span><span class="nx">set</span>
          <span class="nv">shade: </span><span class="nx">val</span>
        <span class="p">,</span>
          <span class="nv">silent: </span><span class="kc">true</span>

  <span class="nv">drawGrid: </span><span class="o">-&gt;</span>
    <span class="vi">@grid = </span><span class="p">[]</span>
    <span class="nv">col = </span><span class="mi">0</span>

    <span class="k">while</span> <span class="nx">col</span> <span class="o">&lt;</span> <span class="nx">columns</span>
      <span class="nx">@grid</span><span class="p">[</span><span class="nx">col</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="nv">row = </span><span class="mi">0</span>

      <span class="k">while</span> <span class="nx">row</span> <span class="o">&lt;</span> <span class="nx">rows</span>
        <span class="k">if</span> <span class="nx">_</span><span class="p">.</span><span class="nx">detect</span><span class="p">(</span><span class="nx">Tiles</span><span class="p">.</span><span class="nx">models</span><span class="p">,</span> <span class="nf">(m) -&gt;</span>
          <span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">)</span> <span class="o">is</span> <span class="nx">col</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">m</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">)</span> <span class="o">is</span> <span class="nx">row</span><span class="p">)</span>
        <span class="p">)</span>
          <span class="nx">@grid</span><span class="p">[</span><span class="nx">col</span><span class="p">][</span><span class="nx">row</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="k">else</span>
          <span class="nx">@grid</span><span class="p">[</span><span class="nx">col</span><span class="p">][</span><span class="nx">row</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span>
        <span class="nx">row</span><span class="o">++</span>
      <span class="nx">col</span><span class="o">++</span>

  <span class="nv">spiralWalk: </span><span class="nf">(pos) -&gt;</span>
    <span class="k">if</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">columns</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
      <span class="nv">di = </span><span class="mi">1</span>
    <span class="k">else</span>
      <span class="nv">di = </span><span class="o">-</span><span class="mi">1</span>
    <span class="nv">dj = </span><span class="mi">0</span>
    <span class="nv">segment_length = </span><span class="mi">1</span>
    <span class="nv">i = </span><span class="mi">0</span>
    <span class="nv">j = </span><span class="mi">0</span>
    <span class="nv">segment_passed = </span><span class="mi">0</span>
    <span class="nv">all_tiles = </span><span class="nx">_</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="nx">Tiles</span><span class="p">.</span><span class="nx">models</span><span class="p">,</span> <span class="nf">(t) -&gt;</span>
      <span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;query&quot;</span><span class="p">)</span> <span class="o">is</span> <span class="kc">true</span><span class="p">)</span> <span class="o">or</span> <span class="p">(</span><span class="nx">t</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s">&quot;prompt&quot;</span><span class="p">)</span> <span class="o">is</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="nv">positioned_count = </span><span class="mi">0</span>
    <span class="nv">bounds =</span>
      <span class="nv">x:</span>
        <span class="nv">min: </span><span class="mi">0</span>
        <span class="nv">max: </span><span class="nx">columns</span> <span class="o">-</span> <span class="mi">1</span>

      <span class="nv">y:</span>
        <span class="nv">min: </span><span class="mi">0</span>
        <span class="nv">max: </span><span class="nx">rows</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="nv">k = </span><span class="mi">0</span>

    <span class="k">while</span> <span class="p">(</span><span class="nx">k</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">columns</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">*</span> <span class="nx">rows</span> <span class="o">*</span> <span class="mi">8</span><span class="p">))</span> <span class="o">and</span> <span class="p">(</span><span class="nx">positioned_count</span> <span class="o">&lt;</span> <span class="nx">all_tiles</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
      <span class="nv">p =</span>
        <span class="nv">x: </span><span class="nx">i</span> <span class="o">+</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">x</span>
        <span class="nv">y: </span><span class="nx">j</span> <span class="o">+</span> <span class="nx">pos</span><span class="p">.</span><span class="nx">y</span>

      <span class="k">if</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;=</span> <span class="nx">bounds</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;=</span> <span class="nx">bounds</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">max</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="nx">bounds</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="nx">bounds</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">max</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">@grid</span><span class="p">[</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">][</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">]</span> <span class="o">is</span> <span class="kc">false</span>
          <span class="nx">all_tiles</span><span class="p">[</span><span class="nx">positioned_count</span><span class="p">].</span><span class="nx">set</span>
            <span class="nv">x: </span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span>
            <span class="nv">y: </span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span>
          <span class="p">,</span>
            <span class="nv">silent: </span><span class="kc">true</span>

          <span class="nx">@grid</span><span class="p">[</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">][</span><span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>
          <span class="nx">positioned_count</span><span class="o">++</span>
      <span class="nx">i</span> <span class="o">+=</span> <span class="nx">di</span>
      <span class="nx">j</span> <span class="o">+=</span> <span class="nx">dj</span>
      <span class="o">++</span><span class="nx">segment_passed</span>
      <span class="k">if</span> <span class="nx">segment_passed</span> <span class="o">is</span> <span class="nx">segment_length</span>
        <span class="nv">segment_passed = </span><span class="mi">0</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">columns</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">y</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">or</span> <span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">x</span> <span class="o">&gt;</span> <span class="p">(</span><span class="nx">columns</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">and</span> <span class="p">(</span><span class="nx">pos</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nx">rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
          <span class="nv">buffer = </span><span class="nx">dj</span>
          <span class="nv">dj = </span><span class="o">-</span><span class="nx">di</span>
          <span class="nv">di = </span><span class="nx">buffer</span>
        <span class="k">else</span>
          <span class="nv">buffer = </span><span class="nx">di</span>
          <span class="nv">di = </span><span class="o">-</span><span class="nx">dj</span>
          <span class="nv">dj = </span><span class="nx">buffer</span>
        <span class="o">++</span><span class="nx">segment_length</span>  <span class="k">if</span> <span class="nx">dj</span> <span class="o">is</span> <span class="mi">0</span>
      <span class="o">++</span><span class="nx">k</span>

  <span class="nv">addAll: </span><span class="o">-&gt;</span>
    <span class="nx">@drawGrid</span><span class="p">()</span>
    <span class="nx">@spiralWalk</span> <span class="nx">Queries</span><span class="p">.</span><span class="nx">xyPos</span><span class="p">()</span>  <span class="k">if</span> <span class="nx">Queries</span><span class="p">.</span><span class="nx">xyPos</span><span class="p">().</span><span class="nx">x</span> <span class="o">isnt</span> <span class="kc">false</span>
    <span class="nx">@applyShade</span><span class="p">()</span>
    <span class="nx">@addTiles</span><span class="p">()</span>

  <span class="nv">reset: </span><span class="o">-&gt;</span>
    <span class="nx">@$</span><span class="p">(</span><span class="s">&quot;</span><span class="err">#</span><span class="s">tiles&quot;</span><span class="p">).</span><span class="nx">empty</span><span class="p">()</span>
    <span class="nx">@addAll</span><span class="p">()</span></pre></div>
      </td>
    </tr>
  </table>
</div>
</body>
